"use strict";(self["webpackChunkcriar_hamburguer_v3"]=self["webpackChunkcriar_hamburguer_v3"]||[]).push([[550],{6091:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var n=e(3396);const a=(0,n._)("h1",null,"Gerenciar Pedidos:",-1);function l(t,s,e,l,o,u){const i=(0,n.up)("DashBoard");return(0,n.wg)(),(0,n.iD)("main",null,[a,(0,n.Wm)(i)])}var o=e(7139),u=e(9242);const i=t=>((0,n.dD)("data-v-1c0fbb95"),t=t(),(0,n.Cn)(),t),r=i((()=>(0,n._)("tr",{id:"head"},[(0,n._)("td",{class:"number"},"#:"),(0,n._)("td",null,"Nome:"),(0,n._)("td",null,"Pão:"),(0,n._)("td",null,"Carne:"),(0,n._)("td",null,"Opcionais:"),(0,n._)("td",null,"Molhos:"),(0,n._)("td",null,"Ações:")],-1))),d={class:"number"},c=["onChange"],g=i((()=>(0,n._)("option",{value:"",disabled:""},"Selecione um status",-1))),h=["value","selected"],m=["onClick"];function w(t,s,e,a,l,i){const w=(0,n.up)("CriarMsg");return(0,n.wg)(),(0,n.iD)("main",null,[(0,n._)("table",null,[r,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.burgers,(t=>((0,n.wg)(),(0,n.iD)("tr",{id:"body-row",key:t.id},[(0,n._)("td",d,(0,o.zw)(t.id),1),(0,n._)("td",null,(0,o.zw)(t.nome),1),(0,n._)("td",null,(0,o.zw)(t.pao),1),(0,n._)("td",null,(0,o.zw)(t.carne),1),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.opcionais,((t,s)=>((0,n.wg)(),(0,n.iD)("li",{key:s},(0,o.zw)(t),1)))),128))])]),(0,n._)("td",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.molhos,((t,s)=>((0,n.wg)(),(0,n.iD)("li",{key:s},(0,o.zw)(t),1)))),128))])]),(0,n._)("td",null,[(0,n._)("select",{name:"statusList",onChange:s=>i.updateBurger(s,t.id)},[g,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.statusList,(s=>((0,n.wg)(),(0,n.iD)("option",{key:s.id,value:s.tipo,selected:t.statusList==s.tipo},(0,o.zw)(s.tipo),9,h)))),128))],40,c),(0,n._)("button",{onClick:s=>i.deleteBurger(t.id),class:"delete-btn"},"Cancelar",8,m)])])))),128))]),(0,n._)("div",null,[(0,n.wy)((0,n.Wm)(w,{msg:l.msg},null,8,["msg"]),[[u.F8,l.msg]])])])}var _=e(2479),p={name:"DashBoard",components:{CriarMsg:_.Z},data(){return{burgers:null,burger_id:null,statusList:[],msg:null}},methods:{async getPedidos(){const t=await fetch("http://localhost:3000/burgers"),s=await t.json();this.burgers=s,this.getStatus()},async getStatus(){const t=await fetch("http://localhost:3000/status"),s=await t.json();this.statusList=s},async deleteBurger(t){const s=await fetch(`http://localhost:3000/burgers/${t}`,{method:"DELETE"});await s.json();this.msg="Pedido deletado com sucesso!",setTimeout((()=>{this.msg=""}),2e3),this.getPedidos()},async updateBurger(t,s){const e=t.target.value,n=JSON.stringify({statusList:e}),a=await fetch(`http://localhost:3000/burgers/${s}`,{method:"PATCH",headers:{"content-Type":"application/json"},body:n});await a.json();this.msg="Status atualizado com sucesso!",setTimeout((()=>{this.msg=""}),1500)}},mounted(){this.getPedidos()}},b=e(89);const D=(0,b.Z)(p,[["render",w],["__scopeId","data-v-1c0fbb95"]]);var f=D,v={name:"PedidosView",components:{DashBoard:f}};const y=(0,b.Z)(v,[["render",l]]);var C=y}}]);
//# sourceMappingURL=pedidos.e0a8028e.js.map